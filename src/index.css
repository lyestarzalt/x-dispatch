@tailwind base;
@tailwind components;
@tailwind utilities;

#root {
  height: 100vh;
  width: 100vw;
}

@layer base {
  /*
   * X-Plane 11 Design System
   * Single dark theme - navy-tinted backgrounds with cyan accent
   * Reference: X-Plane 11 UI Component Library
   *
   * Color values are L C H (lightness, chroma, hue) for oklch
   * Tailwind wraps these with oklch() and injects alpha for opacity modifiers
   */
  :root {
    --radius: 0.375rem;

    /* Background scale (navy-tinted darks) */
    --background: 0.13 0.02 250; /* #06090D - deepest */
    --foreground: 0.98 0 0; /* #FFFFFF */

    --card: 0.16 0.02 250; /* #0D131A - raised surfaces */
    --card-foreground: 0.98 0 0;

    --popover: 0.19 0.02 250; /* #141C26 - elevated */
    --popover-foreground: 0.98 0 0;

    /* Primary = Cyan accent (X-Plane signature color) */
    --primary: 0.65 0.15 230; /* #1DA0F2 */
    --primary-foreground: 0.13 0.02 250;

    /* Secondary = Interactive surfaces */
    --secondary: 0.22 0.02 250; /* #1A2633 */
    --secondary-foreground: 0.98 0 0;

    /* Muted = Subdued elements */
    --muted: 0.25 0.02 250; /* #263240 */
    --muted-foreground: 0.55 0.02 250; /* #717880 */

    /* Accent = Hover states */
    --accent: 0.28 0.02 250;
    --accent-foreground: 0.98 0 0;

    /* Borders */
    --border: 0.28 0.02 250; /* #263240 */
    --input: 0.28 0.02 250;
    --ring: 0.7 0.15 230; /* #4AB3F5 - cyan focus */

    /* Semantic - Status indicators only */
    --destructive: 0.6 0.2 25; /* Red - errors, LIFR */
    --destructive-foreground: 0.98 0 0;

    --success: 0.65 0.2 145; /* Green - VFR, success */
    --success-foreground: 0.13 0.02 250;

    --warning: 0.75 0.15 85; /* Amber - MVFR, caution */
    --warning-foreground: 0.13 0.02 250;

    --info: 0.7 0.12 230; /* Light cyan - info */
    --info-foreground: 0.13 0.02 250;

    --violet: 0.6 0.2 300; /* Purple - procedures */
    --violet-foreground: 0.98 0 0;

    --xp-cyan-glow: 0.85 0.08 230; /* #A5D9FA - glowing text */
    --xp-cyan-light: 0.78 0.1 230; /* #77C6E7 - hover glow */
    --xp-cyan-hover: 0.72 0.14 230; /* #4AB3F5 - hover states */
    --xp-cyan-primary: 0.65 0.15 230; /* #1DA0F2 - primary (same as --primary) */
    --xp-cyan-muted: 0.5 0.12 230; /* #1678B5 - active states */
    --xp-cyan-dark: 0.35 0.1 230; /* #0F5079 - subtle backgrounds */
    --xp-cyan-deepest: 0.22 0.08 230; /* #07283D - very subtle */

    /* X-Plane Gray Scale */
    --xp-gray-100: 0.55 0.02 250; /* #717880 - muted text */
    --xp-gray-200: 0.4 0.02 250; /* #474F59 - disabled text */
    --xp-gray-300: 0.25 0.02 250; /* #263240 - borders */

    /* Legacy aliases (keep for backward compatibility) */
    --xp-accent-hover: var(--xp-cyan-hover);
    --xp-accent-muted: var(--xp-cyan-muted);
    --xp-accent-subtle: var(--xp-cyan-dark);
    --xp-accent-glow: var(--xp-cyan-light);
    --xp-text-secondary: var(--xp-cyan-glow);
    --xp-text-disabled: var(--xp-gray-200);

    /* Chart colors for map layers */
    --chart-vor: 0.65 0.15 230; /* Cyan */
    --chart-ndb: 0.7 0.15 85; /* Amber */
    --chart-dme: 0.6 0.2 300; /* Violet */
    --chart-waypoint: 0.65 0.2 145; /* Green */
    --chart-ils: 0.6 0.2 25; /* Red */
    --chart-runway: 0.55 0.02 250; /* Gray */
    --chart-taxiway: 0.75 0.15 85; /* Amber */
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background font-sans text-foreground antialiased;
  }
}

/* X-Plane Typography Utilities */
@layer utilities {
  .xp-page-heading {
    @apply text-center text-2xl font-light tracking-tight;
  }

  .xp-detail-heading {
    @apply text-xl font-medium;
  }

  .xp-section-heading {
    @apply border-b border-border pb-1 text-xs uppercase tracking-wider text-muted-foreground;
  }

  .xp-label {
    @apply text-xs text-muted-foreground;
  }

  .xp-value {
    @apply font-mono text-sm text-foreground;
  }

  .xp-value-primary {
    @apply font-mono text-sm text-primary;
  }
}

/* Airport Info Panel slide-in animation */
@keyframes slide-in {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.animate-slide-in {
  animation: slide-in 0.3s ease-out forwards;
}

/* MapLibre popup styling */
.maplibregl-popup-content {
  background: transparent !important;
  padding: 0 !important;
  box-shadow: none !important;
  border-radius: 8px !important;
}

.maplibregl-popup-tip {
  display: none !important;
}

.airport-popup .maplibregl-popup-content {
  background: transparent !important;
}

/* Custom scrollbar */
.overflow-y-auto::-webkit-scrollbar {
  width: 6px;
}

.overflow-y-auto::-webkit-scrollbar-track {
  background: oklch(0.16 0.02 250);
  border-radius: 3px;
}

.overflow-y-auto::-webkit-scrollbar-thumb {
  background: oklch(0.35 0.02 250);
  border-radius: 3px;
}

.overflow-y-auto::-webkit-scrollbar-thumb:hover {
  background: oklch(0.45 0.02 250);
}

/* Glowing effects for runway lights */
.runway-light-glow {
  filter: drop-shadow(0 0 8px currentColor);
}

/* MapLibre navigation controls - X-Plane style */
.maplibregl-ctrl-group {
  background: oklch(0.16 0.02 250 / 0.95) !important;
  border: 1px solid oklch(0.28 0.02 250) !important;
  border-radius: 6px !important;
  backdrop-filter: blur(8px);
}

.maplibregl-ctrl-group button {
  border-color: oklch(0.28 0.02 250) !important;
}

.maplibregl-ctrl-group button:hover {
  background-color: oklch(0.28 0.02 250) !important;
}

.maplibregl-ctrl-icon {
  filter: invert(1);
}
